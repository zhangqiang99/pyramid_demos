import os
import posixpath

_os_alt_seps = list(sep for sep in [os.path.sep, os.path.altsep]
                    if sep not in (None, '/'))

here = os.getcwd()
print os.getcwd()
uploads = os.path.join(here, 'uploads')

def safe_join(directory, filename):
    """Safely join `directory` and `filename`.  If this cannot be done,
    this function returns ``None``.

    :param directory: the base directory.
    :param filename: the untrusted filename relative to that directory.
    """
    filename = posixpath.normpath(filename)
    for sep in _os_alt_seps:
        if sep in filename:
            return "you fuck"
    if os.path.isabs(filename) or filename.startswith('../'):
        return "you suck"
    return os.path.join(directory, filename)


print safe_join(uploads, 're/..requirements.txt')
